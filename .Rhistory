theme(plot.caption = element_text(hjust = 0),
legend.position = 'top',
legend.title = element_blank()) +
ggtitle('', subtitle = 'Bastante o muy autoritario en promedio') +
labs(caption = "Nota: Promedio de nivel de acuerdo con gobierno firme, mandatario fuerte e importancia de la obediencia y disciplina.")
elsoc_long_2016_2022 %>%
filter(tipo_atricion == 1) %>%
filter(ola == 6) %>%
filter(!is.na(c15), !is.na(pp_3)) %>%
mutate(c15 = factor(car::recode(c15, "0:4 = 1; 5 = 2; 6:10 = 3; 11 = 4; 12 = 5"),
levels = 1:5,
labels = c("Izquierda", "Centro", "Derecha",
"Independiente", "Ninguna"))) %>%
mutate(pp_3 = factor(pp_3,
labels = c("Votante\nHabitual", "No Votante", "Votante\nReactivo"))) %>%
prop(c15, by = pp_3, na.rm = TRUE) %>%
ggplot(aes(x = prop, y = fct_rev(pp_3), fill = fct_rev(c15),
label = scales::percent(prop, .1))) +
geom_bar(stat = 'identity', position = 'stack') +
labs(y = NULL, x = NULL, title = NULL, fill = NULL) +
scale_x_continuous(labels = scales::percent) +
guides(fill = guide_legend(reverse = TRUE)) +
geom_text(position = position_stack(vjust = .5), size = 3,
color = rep(c('black', 'black', 'white', 'white', 'white'), 3)) +
theme_bw() +
scale_fill_viridis_d(begin = 0, end = .8, option = 'viridis') +
theme(plot.caption = element_text(hjust = 0),
axis.text.x = element_text(size = rel(.9)),
legend.position = 'top',
legend.title = element_blank()) +
ggtitle('', subtitle = 'Autoposicionamiento político en la escala izquierda-derecha') +
labs(caption = "Nota: La escala original de 0 a 10 fue recodificada de forma que 0-4 es izquierda, 5 es centro y 6-10 es derecha.")
elsoc_long_2016_2022 %>%
filter(tipo_atricion == 1) %>%
as_label(ola) %>%
filter(!is.na(c15), !is.na(pp_3)) %>%
mutate(pp_3 = factor(pp_3,
labels = c("Votante Habitual", "No Votante", "Votante Reactivo"))) %>%
prop(c15 %in% 11:12, by = c(pp_3, ola), na.rm = T)  %>%
ggplot(aes(y = prop, x = ola, color = pp_3, group = pp_3,
label = scales::percent(prop, accuracy = .1))) +
theme_bw() +
geom_text_repel(nudge_y = .01, size = 3) +
geom_point(size = 1.75) +
geom_line() +
scale_y_continuous(labels = scales::percent, limits = c(0,.5)) +
ylab(label = NULL) +
xlab(label = NULL) +
scale_color_viridis_d(begin = .0, end = .8, option = 'viridis') +
theme(plot.caption = element_text(hjust = 0),
legend.position = 'top',
legend.title = element_blank()) +
ggtitle('', subtitle = 'Porcentaje que no se autoidentifica en la escala izquierda-derecha') +
labs(caption = "Nota: Ausencia de posición política agrupa a quienes responden independiente y ninguna.")
elsoc_wide_2016_2022 %>%
filter(tipo_atricion == 1) %>%
filter(!is.na(pp_3)) %>%
mutate(pp_3 = factor(pp_3,
labels = c("Votante Habitual", "No Votante", "Votante Reactivo"))) %>%
mutate(pos_id_w04 = factor(car::recode(c15_w04, recodes = "0:4 = 1; 5 = 2; 6:10 = 3; c(11, 12, -888, -999, -777, -666) = 4"),
levels = c(1, 2, 3, 4),
labels = c('Izq.', "Cent.", "Der.", "No se\nidentifica")),
pos_id_w06 = factor(car::recode(c15_w06, recodes = "0:4 = 1; 5 = 2; 6:10 = 3; c(11, 12, -888, -999, -777, -666) = 4"),
levels = c(1, 2, 3, 4),
labels = c('Izq.', "Cent.", "Der.", "No se\nidentifica"))) %>%
survey_design_elsoc(weights = 'ponderador02_w06') %>%
prop(pos_id_w06, by = c(pp_3, pos_id_w04), na.rm = TRUE) %>%
ggplot(aes(y = prop, x = pos_id_w04, fill = fct_rev(pos_id_w06),
label = scales::percent(prop, accuracy = .1))) +
facet_wrap(~ pp_3) +
theme_bw() +
geom_col(position = 'stack') +
scale_y_continuous(labels = scales::percent) +
ylab(label = NULL) +
xlab(label = 'Posición política en 2019') +
scale_fill_viridis_d(end = .8, option = 'viridis') +
geom_text(position = position_stack(vjust = .5),
size = 3,
color = rep(c('black', 'black', 'white', 'white'), 12)) +
theme(plot.caption = element_text(hjust = 0),
legend.position = 'right') +
labs(fill = 'Posición política\nen 2022') +
guides(fill = guide_legend(reverse = TRUE))
elsoc_wide_2016_2022 %>%
filter(tipo_atricion == 1) %>%
filter(!is.na(pp_3)) %>%
mutate(pp_3 = factor(pp_3,
labels = c("Votante Habitual", "No Votante", "Votante Reactivo"))) %>%
mutate(pos_id_w04 = factor(car::recode(c15_w04, recodes = "0:4 = 1; 5 = 2; 6:10 = 3; c(11, 12, -888, -999, -777, -666) = 4"),
levels = c(1, 2, 3, 4),
labels = c('Izq.', "Cent.", "Der.", "No se\nidentifica")),
pos_id_w06 = factor(car::recode(c15_w06, recodes = "0:4 = 1; 5 = 2; 6:10 = 3; c(11, 12, -888, -999, -777, -666) = 4"),
levels = c(1, 2, 3, 4),
labels = c('Izq.', "Cent.", "Der.", "No se\nidentifica"))) %>%
survey_design_elsoc(weights = 'ponderador02_w06') %>%
prop(pos_id_w06, by = c(pp_3, pos_id_w04), na.rm = TRUE) %>%
ggplot(aes(y = prop, x = pos_id_w04, fill = fct_rev(pos_id_w06),
label = scales::percent(prop, accuracy = .1))) +
facet_wrap(~ pp_3) +
theme_bw() +
geom_col(position = 'stack') +
scale_y_continuous(labels = scales::percent) +
ylab(label = NULL) +
xlab(label = 'Posición política en 2019') +
scale_fill_viridis_d(end = .8, option = 'viridis') +
geom_text(position = position_stack(vjust = .5),
size = 3,
color = rep(c('black', 'black', 'white', 'white'), 12)) +
theme(plot.caption = element_text(hjust = 0),
legend.position = 'top') +
labs(fill = 'Posición política\nen 2022') +
guides(fill = guide_legend(reverse = TRUE))
elsoc_wide_2016_2022 %>%
filter(tipo_atricion == 1) %>%
filter(!is.na(pp_3)) %>%
mutate(pp_3 = factor(pp_3,
labels = c("Votante Habitual", "No Votante", "Votante Reactivo"))) %>%
mutate(pos_id_w04 = factor(car::recode(c15_w04, recodes = "0:4 = 1; 5 = 2; 6:10 = 3; c(11, 12, -888, -999, -777, -666) = 4"),
levels = c(1, 2, 3, 4),
labels = c('Izquierda', "Centro", "Derecha", "No se\nidentifica")),
pos_id_w06 = factor(car::recode(c15_w06, recodes = "0:4 = 1; 5 = 2; 6:10 = 3; c(11, 12, -888, -999, -777, -666) = 4"),
levels = c(1, 2, 3, 4),
labels = c('Izq.', "Cent.", "Der.", "No se\nidentifica"))) %>%
survey_design_elsoc(weights = 'ponderador02_w06') %>%
prop(pos_id_w06, by = c(pp_3, pos_id_w04), na.rm = TRUE) %>%
ggplot(aes(y = prop, x = pos_id_w04, fill = fct_rev(pos_id_w06),
label = scales::percent(prop, accuracy = .1))) +
facet_wrap(~ pp_3) +
theme_bw() +
geom_col(position = 'stack') +
scale_y_continuous(labels = scales::percent) +
ylab(label = NULL) +
xlab(label = 'Posición política en 2019') +
scale_fill_viridis_d(end = .8, option = 'viridis') +
geom_text(position = position_stack(vjust = .5),
size = 3,
color = rep(c('black', 'black', 'white', 'white'), 12)) +
theme(plot.caption = element_text(hjust = 0),
legend.position = 'top') +
labs(fill = 'Posición política\nen 2022') +
guides(fill = guide_legend(reverse = TRUE))
elsoc_wide_2016_2022 %>%
filter(tipo_atricion == 1) %>%
filter(!is.na(pp_3)) %>%
mutate(pp_3 = factor(pp_3,
labels = c("Votante Habitual", "No Votante", "Votante Reactivo"))) %>%
mutate(pos_id_w04 = factor(car::recode(c15_w04, recodes = "0:4 = 1; 5 = 2; 6:10 = 3; c(11, 12, -888, -999, -777, -666) = 4"),
levels = c(1, 2, 3, 4),
labels = c('Izq.', "Cent.", "Der.", "No se\nidentifica")),
pos_id_w06 = factor(car::recode(c15_w06, recodes = "0:4 = 1; 5 = 2; 6:10 = 3; c(11, 12, -888, -999, -777, -666) = 4"),
levels = c(1, 2, 3, 4),
labels = c('Izquierda', "Centro", "Derecha", "No se identifica"))) %>%
survey_design_elsoc(weights = 'ponderador02_w06') %>%
prop(pos_id_w06, by = c(pp_3, pos_id_w04), na.rm = TRUE) %>%
ggplot(aes(y = prop, x = pos_id_w04, fill = fct_rev(pos_id_w06),
label = scales::percent(prop, accuracy = .1))) +
facet_wrap(~ pp_3) +
theme_bw() +
geom_col(position = 'stack') +
scale_y_continuous(labels = scales::percent) +
ylab(label = NULL) +
xlab(label = 'Posición política en 2019') +
scale_fill_viridis_d(end = .8, option = 'viridis') +
geom_text(position = position_stack(vjust = .5),
size = 3,
color = rep(c('black', 'black', 'white', 'white'), 12)) +
theme(plot.caption = element_text(hjust = 0),
legend.position = 'top') +
labs(fill = 'Posición política\nen 2022') +
guides(fill = guide_legend(reverse = TRUE))
elsoc_wide_2016_2022 %>%
filter(tipo_atricion == 1) %>%
filter(!is.na(pp_3)) %>%
mutate(pp_3 = factor(pp_3,
labels = c("Votante Habitual", "No Votante", "Votante Reactivo"))) %>%
mutate(pos_id_w04 = factor(car::recode(c15_w04, recodes = "0:4 = 1; 5 = 2; 6:10 = 3; c(11, 12, -888, -999, -777, -666) = 4"),
levels = c(1, 2, 3, 4),
labels = c('Izq.', "Cent.", "Der.", "No se\nidentifica")),
pos_id_w06 = factor(car::recode(c15_w06, recodes = "0:4 = 1; 5 = 2; 6:10 = 3; c(11, 12, -888, -999, -777, -666) = 4"),
levels = c(1, 2, 3, 4),
labels = c('Izquierda', "Centro", "Derecha", "No se identifica"))) %>%
survey_design_elsoc(weights = 'ponderador02_w06') %>%
prop(pos_id_w06, by = c(pp_3, pos_id_w04), na.rm = TRUE) %>%
ggplot(aes(y = prop, x = pos_id_w04, fill = fct_rev(pos_id_w06),
label = scales::percent(prop, accuracy = .1))) +
facet_wrap(~ pp_3) +
theme_bw() +
geom_col(position = 'stack') +
scale_y_continuous(labels = scales::percent) +
ylab(label = NULL) +
xlab(label = 'Posición política en 2019') +
scale_fill_viridis_d(end = .8, option = 'viridis') +
geom_text(position = position_stack(vjust = .5),
size = 3,
color = rep(c('black', 'black', 'white', 'white'), 12)) +
theme(plot.caption = element_text(hjust = 0),
legend.position = 'top') +
labs(fill = 'Posición política en 2022') +
guides(fill = guide_legend(reverse = TRUE))
elsoc_wide_2016_2022 %>%
filter(tipo_atricion == 1) %>%
filter(!is.na(pp_3)) %>%
mutate(pp_3 = factor(pp_3,
labels = c("Votante Habitual", "No Votante", "Votante Reactivo"))) %>%
mutate(pos_id_w04 = factor(car::recode(c15_w04, recodes = "0:4 = 1; 5 = 2; 6:10 = 3; c(11, 12, -888, -999, -777, -666) = 4"),
levels = c(1, 2, 3, 4),
labels = c('Izq.', "Centro", "Der.", "No se\nidentifica")),
pos_id_w06 = factor(car::recode(c15_w06, recodes = "0:4 = 1; 5 = 2; 6:10 = 3; c(11, 12, -888, -999, -777, -666) = 4"),
levels = c(1, 2, 3, 4),
labels = c('Izquierda', "Centro", "Derecha", "No se identifica"))) %>%
survey_design_elsoc(weights = 'ponderador02_w06') %>%
prop(pos_id_w06, by = c(pp_3, pos_id_w04), na.rm = TRUE) %>%
ggplot(aes(y = prop, x = pos_id_w04, fill = fct_rev(pos_id_w06),
label = scales::percent(prop, accuracy = .1))) +
facet_wrap(~ pp_3) +
theme_bw() +
geom_col(position = 'stack') +
scale_y_continuous(labels = scales::percent) +
ylab(label = NULL) +
xlab(label = 'Posición política en 2019') +
scale_fill_viridis_d(end = .8, option = 'viridis') +
geom_text(position = position_stack(vjust = .5),
size = 3,
color = rep(c('black', 'black', 'white', 'white'), 12)) +
theme(plot.caption = element_text(hjust = 0),
legend.position = 'top') +
labs(fill = 'Posición política en 2022') +
guides(fill = guide_legend(reverse = TRUE))
elsoc_long_2016_2022 %>%
filter(tipo_atricion == 1) %>%
as_label(ola) %>%
filter(!is.na(c13), !is.na(pp_3)) %>%
prop(c13 %in% 4:5, by = c(ola, pp_3), na.rm = T)  %>%
mutate(pp_3 = factor(pp_3,
labels = c("Votante Habitual", "No Votante", "Votante Reactivo"))) %>%
ggplot(aes(y = prop, x = ola, color = pp_3, group = pp_3,
label = scales::percent(prop, accuracy = .1))) +
theme_bw() +
geom_text_repel(nudge_y = .015, size = 3) +
geom_point(size = 1.75) +
geom_line() +
scale_y_continuous(labels = scales::percent, limits = c(0,0.5)) +
ylab(label = NULL) +
xlab(label = NULL) +
scale_color_viridis_d(begin = .0, end = .8, option = 'viridis') +
theme(plot.caption = element_text(hjust = 0),
legend.position = 'top',
legend.title = element_blank()) +
ggtitle('', subtitle = 'Bastante o muy interesado')
elsoc_long_2016_2022 %>%
filter(tipo_atricion == 1) %>%
as_label(ola) %>%
filter(!is.na(c16), !is.na(pp_3)) %>%
mutate(pp_3 = factor(pp_3,
labels = c("Votante Habitual", "No Votante", "Votante Reactivo"))) %>%
prop(c16 == 15, by = c(ola, pp_3), na.rm = T)  %>%
ggplot(aes(y = prop, x = ola, color = pp_3, group = pp_3,
label = scales::percent(prop, accuracy = .1))) +
theme_bw() +
geom_text_repel(nudge_y = .015, size = 3) +
geom_point(size = 1.75) +
geom_line() +
scale_y_continuous(labels = scales::percent, limits = c(0,1)) +
ylab(label = NULL) +
xlab(label = NULL) +
scale_color_viridis_d(begin = .0, end = .8, option = 'viridis') +
theme(plot.caption = element_text(hjust = 0),
legend.position = 'top',
legend.title = element_blank()) +
ggtitle('', subtitle = 'Porcentaje que no se identifica con ningún partido político')
elsoc_long_2016_2022 %>%
filter(tipo_atricion == 1) %>%
as_label(ola) %>%
filter(!is.na(c14_01), !is.na(c14_02), !is.na(c08_04), !is.na(pp_3)) %>%
dplyr::select(c14_01, c14_02, c08_04, ola, ponderador02, segmento_disenno, estrato_disenno, pp_3) %>%
pivot_longer(cols = c(c14_01, c14_02, c08_04)) %>%
mutate(name = factor(name,
levels = c('c14_01', 'c14_02', 'c08_04'),
labels = c('Habla de politica\ncon familiares o amigos',
'Se informa sobre politica\nen medios de comunicacion',
'Usa redes sociales para\nopinar en temas publicos'))) %>%
mutate(pp_3 = factor(pp_3,
labels = c("Votante Habitual", "No Votante", "Votante Reactivo"))) %>%
prop(value %in% 4:5, by = c(pp_3, ola, name), na.rm = TRUE) %>%
ggplot(aes(y = prop, x = ola, color = pp_3, group = pp_3,
label = scales::percent(prop, accuracy = .1))) +
facet_wrap(~ name) +
theme_bw() +
geom_point(size = 1.75) +
geom_line() +
scale_y_continuous(labels = scales::percent,
limits = c(0, .75)) +
ylab(label = NULL) +
xlab(label = NULL) +
scale_color_viridis_d(begin = .0, end = .8, option = 'viridis') +
geom_text_repel(size = 3, nudge_y = .0) +
theme(plot.caption = element_text(hjust = 0),
legend.position = 'top',
legend.title = element_blank()) +
ggtitle('', subtitle = 'Frecuente o muy frecuentemente' )
elsoc_long_2016_2022 %>%
filter(tipo_atricion == 1) %>%
as_label(ola) %>%
filter(!is.na(c05_01), !is.na(c05_08), !is.na(pp_3)) %>%
dplyr::select(c05_01, c05_08, ola, ponderador02, segmento_disenno, estrato_disenno, pp_3) %>%
pivot_longer(cols = c(c05_01, c05_08)) %>%
mutate(name = factor(name,
levels = c('c05_01', 'c05_08'),
labels = c('Gobierno',
'Presidente'))) %>%
mutate(pp_3 = factor(pp_3,
labels = c("Votante Habitual", "No Votante", "Votante Reactivo"))) %>%
prop(value %in% 1:2, by = c(pp_3, ola, name), na.rm = TRUE) %>%
ggplot(aes(y = prop, x = ola, color = pp_3, group = pp_3,
label = scales::percent(prop, accuracy = .1))) +
facet_wrap(~ name) +
theme_bw() +
geom_point(size = 1.75) +
geom_line() +
scale_y_continuous(labels = scales::percent,
limits = c(0, 1)) +
ylab(label = NULL) +
xlab(label = NULL) +
scale_color_viridis_d(begin = .0, end = .8, option = 'viridis') +
geom_text_repel(size = 3, nudge_y = .0) +
theme(plot.caption = element_text(hjust = 0),
legend.position = 'top',
legend.title = element_blank()) +
ggtitle('', subtitle = 'Nada o poca confianza' )
elsoc_long_2016_2022 %>%
filter(tipo_atricion == 1) %>%
as_label(ola) %>%
filter(!is.na(c05_02), !is.na(c05_07), !is.na(pp_3)) %>%
dplyr::select(c05_02, c05_07, ola, ponderador02, segmento_disenno, estrato_disenno, pp_3) %>%
pivot_longer(cols = c(c05_02, c05_07)) %>%
mutate(name = factor(name,
levels = c('c05_02', 'c05_07'),
labels = c('Partidos políticos',
'Congreso'))) %>%
mutate(pp_3 = factor(pp_3,
labels = c("Votante Habitual", "No Votante", "Votante Reactivo"))) %>%
prop(value %in% 1:2, by = c(pp_3, ola, name), na.rm = TRUE) %>%
ggplot(aes(y = prop, x = ola, color = pp_3, group = pp_3,
label = scales::percent(prop, accuracy = .1))) +
facet_wrap(~ name) +
theme_bw() +
geom_point(size = 1.75) +
geom_line() +
scale_y_continuous(labels = scales::percent,
limits = c(0, 1)) +
ylab(label = NULL) +
xlab(label = NULL) +
scale_color_viridis_d(begin = .0, end = .8, option = 'viridis') +
geom_text_repel(size = 3, nudge_y = .002) +
theme(plot.caption = element_text(hjust = 0),
legend.position = 'top',
legend.title = element_blank()) +
ggtitle('', subtitle = 'Nada o poca confianza' )
elsoc_long_2016_2022 %>%
filter(tipo_atricion == 1) %>%
as_label(ola) %>%
filter(!is.na(c05_01), !is.na(c05_08), !is.na(pp_3)) %>%
dplyr::select(c05_01, c05_08, ola, ponderador02, segmento_disenno, estrato_disenno, pp_3) %>%
pivot_longer(cols = c(c05_01, c05_08)) %>%
mutate(name = factor(name,
levels = c('c05_01', 'c05_08'),
labels = c('Gobierno',
'Presidente'))) %>%
mutate(pp_3 = factor(pp_3,
labels = c("Votante Habitual", "No Votante", "Votante Reactivo"))) %>%
prop(value %in% 1:2, by = c(pp_3, ola, name), na.rm = TRUE) %>%
ggplot(aes(y = prop, x = ola, color = pp_3, group = pp_3,
label = scales::percent(prop, accuracy = .1))) +
facet_wrap(~ name) +
theme_bw() +
geom_point(size = 1.75) +
geom_line() +
scale_y_continuous(labels = scales::percent,
limits = c(0, 1)) +
ylab(label = NULL) +
xlab(label = NULL) +
scale_color_viridis_d(begin = .0, end = .8, option = 'viridis') +
geom_text_repel(size = 3, nudge_y = .01) +
theme(plot.caption = element_text(hjust = 0),
legend.position = 'top',
legend.title = element_blank()) +
ggtitle('', subtitle = 'Nada o poca confianza' )
elsoc_long_2016_2022 %>%
filter(tipo_atricion == 1) %>%
as_label(ola) %>%
filter(!is.na(c14_01), !is.na(c14_02), !is.na(c08_04), !is.na(pp_3)) %>%
dplyr::select(c14_01, c14_02, c08_04, ola, ponderador02, segmento_disenno, estrato_disenno, pp_3) %>%
pivot_longer(cols = c(c14_01, c14_02, c08_04)) %>%
mutate(name = factor(name,
levels = c('c14_01', 'c14_02', 'c08_04'),
labels = c('Habla de politica\ncon familiares o amigos',
'Se informa sobre politica\nen medios de comunicacion',
'Usa redes sociales para\nopinar en temas publicos'))) %>%
mutate(pp_3 = factor(pp_3,
labels = c("Votante Habitual", "No Votante", "Votante Reactivo"))) %>%
prop(value %in% 4:5, by = c(pp_3, ola, name), na.rm = TRUE) %>%
ggplot(aes(y = prop, x = ola, color = pp_3, group = pp_3,
label = scales::percent(prop, accuracy = .1))) +
facet_wrap(~ name) +
theme_bw() +
geom_point(size = 1.75) +
geom_line() +
scale_y_continuous(labels = scales::percent,
limits = c(0, .75)) +
ylab(label = NULL) +
xlab(label = NULL) +
scale_color_viridis_d(begin = .0, end = .8, option = 'viridis') +
geom_text_repel(size = 3, nudge_y = .01) +
theme(plot.caption = element_text(hjust = 0),
legend.position = 'top',
legend.title = element_blank()) +
ggtitle('', subtitle = 'Frecuente o muy frecuentemente' )
elsoc_long_2016_2022 %>%
filter(tipo_atricion == 1) %>%
as_label(ola) %>%
filter(!is.na(c05_01), !is.na(c05_08), !is.na(pp_3)) %>%
dplyr::select(c05_01, c05_08, ola, ponderador02, segmento_disenno, estrato_disenno, pp_3) %>%
pivot_longer(cols = c(c05_01, c05_08)) %>%
mutate(name = factor(name,
levels = c('c05_01', 'c05_08'),
labels = c('Gobierno',
'Presidente'))) %>%
mutate(pp_3 = factor(pp_3,
labels = c("Votante Habitual", "No Votante", "Votante Reactivo"))) %>%
prop(value %in% 1:2, by = c(pp_3, ola, name), na.rm = TRUE) %>%
ggplot(aes(y = prop, x = ola, color = pp_3, group = pp_3,
label = scales::percent(prop, accuracy = .1))) +
facet_wrap(~ name) +
theme_bw() +
geom_point(size = 1.75) +
geom_line() +
scale_y_continuous(labels = scales::percent,
limits = c(0, 1)) +
ylab(label = NULL) +
xlab(label = NULL) +
scale_color_viridis_d(begin = .0, end = .8, option = 'viridis') +
geom_text_repel(size = 3, nudge_y = .01) +
theme(plot.caption = element_text(hjust = 0),
legend.position = 'top',
legend.title = element_blank()) +
ggtitle('', subtitle = 'Nada o poca confianza' )
elsoc_long_2016_2022 %>%
filter(tipo_atricion == 1) %>%
as_label(ola) %>%
filter(!is.na(c05_02), !is.na(c05_07), !is.na(pp_3)) %>%
dplyr::select(c05_02, c05_07, ola, ponderador02, segmento_disenno, estrato_disenno, pp_3) %>%
pivot_longer(cols = c(c05_02, c05_07)) %>%
mutate(name = factor(name,
levels = c('c05_02', 'c05_07'),
labels = c('Partidos políticos',
'Congreso'))) %>%
mutate(pp_3 = factor(pp_3,
labels = c("Votante Habitual", "No Votante", "Votante Reactivo"))) %>%
prop(value %in% 1:2, by = c(pp_3, ola, name), na.rm = TRUE) %>%
ggplot(aes(y = prop, x = ola, color = pp_3, group = pp_3,
label = scales::percent(prop, accuracy = .1))) +
facet_wrap(~ name) +
theme_bw() +
geom_point(size = 1.75) +
geom_line() +
scale_y_continuous(labels = scales::percent,
limits = c(0, 1)) +
ylab(label = NULL) +
xlab(label = NULL) +
scale_color_viridis_d(begin = .0, end = .8, option = 'viridis') +
geom_text_repel(size = 3, nudge_y = .002) +
theme(plot.caption = element_text(hjust = 0),
legend.position = 'top',
legend.title = element_blank()) +
ggtitle('', subtitle = 'Nada o poca confianza' )
library(bookdown)
library(knitr)
knitr::opts_chunk$set(cache=FALSE, warning=FALSE, message=FALSE, echo=FALSE, fig.topcaption = TRUE, fig.align = 'center')
Sys.setlocale("LC_ALL","ES_ES.UTF-8")
table_format <- if (is_html_output()) {
"html"
} else if (is_latex_output()) {
"latex"
}
fullw <- if (is_html_output()) {TRUE} else if (is_latex_output()) {FALSE}
fsize <- if (is_html_output()) {14} else if(is_latex_output()) {8}
ggplot2::theme_set(new = ggplot2::theme_test(base_family = "serif"))
options(knitr.kable.NA = '')
rm(list=ls())
library(knitr)
library(kableExtra)
library(gridExtra)
library(tidyverse)
library(sjmisc)
library(sjlabelled)
library(elsoc)
library(lubridate)
library(viridis)
library(statar)
library(bookdown)
rm(list=ls())
library(knitr)
library(kableExtra)
library(gridExtra)
library(tidyverse)
library(sjmisc)
library(sjlabelled)
library(elsoc)
library(lubridate)
library(viridis)
library(statar)
library(bookdown)
